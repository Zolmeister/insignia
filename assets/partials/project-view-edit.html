<div class='project-back' ng-click='go("/admin")'>
  <i class='left-arrow icon-angle-left'></i>
  <div class='back-nav-text'>Projects</div>
</div>
<form ng-submit='save()'>
  <div ng-if='project' class='project-view editing'>
    <input type='submit' class='pure-button pure-button-primary project-save-button' ng-class='{success: updateSuccess}' value='save'>
    <!-- project title and image -->
    <input type='text' class='project-title' autofocus ng-model='project.title' placeholder='Title' required>
    <div class='project-image-container pure-g-r'>
      <div class='pure-u-1-3'>
        <div class="image-drop-box" ng-file-drop="onFileSelect($files, 'feature')">
          Feature Image - 960x400
          <img class='project-image' ng-src='/project/{{project.imgId}}/img/feature#{{ refreshImg }}'>
        </div>
      </div>
      <div class='pure-u-1-3'>
        <div class="image-drop-box" ng-file-drop="onFileSelect($files, 'main')">
          Main Image - 680x420
          <img class='project-image' ng-src='/project/{{project.imgId}}/img/main#{{ refreshImg }}'>
        </div>
      </div>
      <div class='pure-u-1-3'>
        <div class="image-drop-box" ng-file-drop="onFileSelect($files, 'tile')">
          Tile Image - 470x290
          <img class='project-image' ng-src='/project/{{project.imgId}}/img/tile#{{ refreshImg }}'>
        </div>
      </div>
      <input type='text' class='project-desc' ng-model='project.desc' placeholder='Short description'>
    </div>
    <!-- project links -->
    <div class='pure-g-r project-links'>
      <div class='pure-u-1-3'>
        <div class='project-link'>
          <span>Public Link</span>
          <input type='text' ng-model='project.pubLink'>
        </div>
      </div>
      <div class='pure-u-1-3'>
        <div class='project-link'>
          <span>Blog Post</span>
          <input type='text' ng-model='project.blogLink'>
        </div>
      </div>
      <div class='pure-u-1-3'>
        <div class='project-link'>
          <span>GitHub Link</span>
          <input type='text' ng-model='project.gitHubLink'>
        </div>
      </div>
    </div>
    <h3 class='project-info-header'>About</h3>
    <div class='project-about'>
      <textarea class='project-about-input' ng-model='project.about' placeholder='About'></textarea>
    </div>
    <!-- project key features -->
    <h3 class='project-info-header'>Key Features</h3>
    <a class='pure-button pure-button-small pure-button-success' ng-click='addFeature()'>add</a>
    <br>
    <div ng-repeat='feature in project.features'>
      <label class='pure-button pure-button-remove pure-button-remove-small' ng-click='removeFeature(feature)'>
        <i class='icon-remove'></i>
      </label>
      <input type='text' class='project-feature-input' ng-model='feature.value'>
    </div>
    <!-- project technologies -->
    <h3 class='project-info-header'>Technologies used</h3>
    <a class='pure-button pure-button-small pure-button-success' ng-click='addTech()'>add</a>
    <br>
    <div class='project-technologies'>
      <div ng-repeat='tech in project.technologies'>
        <label class='pure-button pure-button-remove pure-button-remove-small ' ng-click='removeTech(tech)'>
          <i class='icon-remove'></i>
        </label>
        <input type='text' ng-model='tech.name' size=8>
        <input type='text' ng-model='tech.link'>
      </div>
      <!-- <a class='pure-button pure-button-tech' target='_blank' href='{{ tech.link }}' ng-repeat='tech in project.technologies'>{{ tech.name }}</a>-->
    </div>
    <input type='submit' class='pure-button pure-button-primary project-save-button' ng-class='{success: updateSuccess}' value='save'>
  </div>
</form>
<div ng-if='error' class='center error-message-container'>
  <div class='error-message'>{{ error }}</div>
</div>